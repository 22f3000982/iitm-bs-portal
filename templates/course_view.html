<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Dashboard</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">
   
    
</head>
<body>

    <!-- Sidebar -->
    <div class="sidebar">
        <h2>Dashboard</h2>
        <a href="{{ url_for('course_view') }}">ğŸ“š Courses</a>
        <a href="#">ğŸ“ Contact Us</a>
        <a href="#">â„¹ï¸ About Admin</a>
        <a href="#">âš™ï¸ Settings</a>

        {% if not admin_mode %}
            <!-- Admin Login Form in Sidebar -->
            <form class="admin-login-form" action="{{ url_for('admin_login') }}" method="post">
                <input class="password-input" type="password" name="password" placeholder="Admin Password" required>
                <button class="btn login-btn" type="submit">Login</button>
            </form>
        {% else %}
            <a href="{{ url_for('admin_add_course') }}">â• Add Course</a>
            <a href="{{ url_for('admin_logout') }}">ğŸšª Exit Admin</a>
        {% endif %}
    </div>

    <!-- Top Navbar -->
    <div class="navbar">
        <!-- <input type="text" class="search-box" placeholder="Search Courses..."> -->
        <input type="text" id="globalSearch" class="global-search" placeholder="Search Course...">
        <div class="navbar-buttons">
            <button class="nav-btn">ğŸ”” Notifications</button>
            <button class="nav-btn">â• Add New</button>
            <button class="nav-btn">ğŸ‘¤ Profile</button>
        </div>
    </div>

    <!-- Main Content -->
    <div class="main-content">
        <div class="container">
            <h1 class="page-title">Available Courses</h1>

            <!-- <input type="text" id="globalSearch" class="global-search" placeholder="Global Search..."> -->

            {% if courses %}
            <div class="course-grid" id="courseList">
                {% for course in courses %}
                    <div class="course-card">
                        <a class="course-link" href="{{ url_for('course_detail', course_id=course[0]) }}">{{ course[1] }}</a>
                        {% if admin_mode %}
                            <div class="admin-actions">
                                <a class="edit-link" href="{{ url_for('admin_edit_course', course_id=course[0]) }}">Edit</a>
                                |
                                <a class="delete-link" href="{{ url_for('admin_delete_course', course_id=course[0]) }}">Delete</a>
                            </div>
                        {% endif %}
                    </div>
                {% endfor %}
            </div>
            
            {% else %}
                <p class="no-courses">No courses available.</p>
            {% endif %}
        </div>
    </div>

<script>
    // Global Search Function
    const searchInput = document.getElementById('globalSearch');
    const courseList = document.getElementById('courseList');
    const courses = courseList.getElementsByClassName('course-item');

    searchInput.addEventListener('input', function() {
        const query = this.value.toLowerCase();
        for (let course of courses) {
            const title = course.innerText.toLowerCase();
            course.style.display = title.includes(query) ? 'flex' : 'none';
        }
    });
</script>

</body>
</html>
